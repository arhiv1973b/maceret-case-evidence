# Инструкции по работе с json_viewer.py

## Описание
Скрипт `json_viewer.py` предназначен для работы с файлом `combined_pdf_summaries.json`, который содержит консолидированные данные из всех обработанных PDF-файлов: извлеченный текст, очищенный текст, суммары на русском и румынском языках, а также переводы.

## Требования
- Python 3.x
- Файл `combined_pdf_summaries.json` в той же директории, что и скрипт

## Запуск
1. Откройте терминал или командную строку.
2. Перейдите в директорию с файлами:
   ```
   cd /путь/к/директории/с/файлами
   ```
3. Запустите скрипт:
   ```
   python3 json_viewer.py
   ```

## Меню команд
После запуска скрипт покажет меню с опциями:

### 1. List all PDFs
- **Описание**: Выводит список всех PDF-файлов в JSON.
- **Использование**: Введите "1" и нажмите Enter.
- **Пример вывода**:
  ```
  1. Constitutinale.pdf
  2. Another_PDF.pdf
  ...
  ```

### 2. Search PDFs by query
- **Описание**: Ищет PDF по названию или содержимому (в raw_text или cleaned_text).
- **Использование**: Введите "2", затем введите поисковый запрос (например, "суд" или "Ator").
- **Пример**:
  - Ввод: "2"
  - Ввод: "суд"
  - Вывод: Список найденных PDF, где встречается слово "суд".

### 3. View PDF details
- **Описание**: Показывает подробную информацию о выбранном PDF: путь, длину текстов, суммары и первые 500 символов текста.
- **Использование**: Введите "3", затем введите точное имя PDF (например, "Constitutinale.pdf").
- **Пример вывода**:
  ```
  === Constitutinale.pdf ===
  Path: /mnt/c/Users/arhiv/Downloads/Constitutinale.pdf
  Raw text length: 15000 chars
  Cleaned text length: 14000 chars
  Russian summary: 0 items
  Romanian summary: 1 items
  Raw text (first 500 chars): [текст]...
  Cleaned text (first 500 chars): [очищенный текст]...
  Russian summary:
  Romanian summary:
    1. [предложение на румынском]
  ```

### 4. Export PDF text to file
- **Описание**: Экспортирует очищенный текст выбранного PDF в отдельный .txt файл в текущей директории.
- **Использование**: Введите "4", затем введите имя PDF.
- **Пример**: Для "Constitutinale.pdf" создаст файл "Constitutinale.txt" с очищенным текстом.

### 5. Exit
- **Описание**: Выход из скрипта.
- **Использование**: Введите "5".

## Советы
- Имена PDF чувствительны к регистру.
- Для поиска используйте ключевые слова на русском или румынском.
- Суммары содержат предложения, согласованные методами LSA, LexRank, Luhn (как минимум двумя методами).
- Переводы доступны в поле "translations" как словарь: оригинальное предложение -> перевод.
- Если файл не найден, скрипт попросит указать путь.

## Структура данных JSON
Каждый PDF имеет:
- `pdf_path`: Полный путь к файлу.
- `raw_text`: Оригинальный извлеченный текст.
- `cleaned_text`: Очищенный текст (без артефактов).
- `summary_ru`: Суммарные предложения на русском.
- `summary_ro`: Суммарные предложения на румынском.
- `translations`: Словарь переводов (предложение -> перевод).

## Примеры использования
1. **Найти все PDF с "Ator"**: Выберите 2, введите "Ator".
2. **Просмотреть детали "Constitutinale.pdf"**: Выберите 3, введите "Constitutinale.pdf".
3. **Экспортировать текст**: Выберите 4, введите имя PDF.

Если возникнут ошибки, проверьте наличие файла JSON и правильность установки Python.